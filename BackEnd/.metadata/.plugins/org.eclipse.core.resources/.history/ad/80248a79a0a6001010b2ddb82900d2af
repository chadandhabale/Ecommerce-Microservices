package com.chandu.Repository;

import java.util.List;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.stereotype.Repository;
import com.chandu.Entity.Product;

/**
 * Repository interface for managing {@link Product} entities.
 * Provides CRUD operations and additional custom search queries.
 */
@Repository
public interface ProductRepository extends JpaRepository<Product, Long> {

    /**
     * Retrieves all products belonging to a specific category.
     *
     * @param category the category name to filter products by
     * @return a list of products in the given category
     */
    List<Product> findByCategoryIgnoreCase(String category);

    /**
     * Searches for products whose names contain the specified keyword (case-insensitive).
     *
     * @param keyword the search term to look for in product names
     * @return a list of products with names containing the keyword
     */
    List<Product> findByNameContainingIgnoreCase(String keyword);

    /**
     * Finds products within a specific price range.
     *
     * @param minPrice minimum price
     * @param maxPrice maximum price
     * @return list of products within the given range
     */
    List<Product> findByPriceBetween(Double minPrice, Double maxPrice);

    /**
     * Finds the most recently added products.
     */
    @Query("SELECT p FROM Product p ORDER BY p.id DESC")
    List<Product> findLatestProducts();
}
